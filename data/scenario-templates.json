{
  "version": "1.0.0",
  "timestamp": "2025-01-22T10:00:00Z",
  "data": {
    "templates": [
      {
        "name": "Armement automatique par horaire",
        "description": "Arme automatiquement l'alarme √† une heure d√©finie, id√©al pour programmer l'activation nocturne",
        "category": "S√©curit√©",
        "icon": "Shield",
        "preview": {
          "triggers": ["Horaire: 23:00"],
          "conditions": ["Jours: Tous les jours de la semaine"],
          "actions": ["MQTT: Armer l'alarme"]
        },
        "template": {
          "name": "Armement automatique nocturne",
          "description": "Arme l'alarme automatiquement tous les soirs √† 23h00",
          "tags": ["alarme", "s√©curit√©", "automatique", "horaire"],
          "Quand": [
            {
              "type": "Horaire",
              "sous_categorie": "Heure fixe",
              "mqtt_topic": "neurHomIA/automation/time",
              "mqtt_trigger": "23:00",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [
            {
              "type": "Jour de la semaine",
              "sous_categorie": "Tous les jours",
              "mqtt_topic": "neurHomIA/automation/weekday",
              "mqtt_condition": "any",
              "mqtt_payload": "",
              "qos": 0
            }
          ],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Commande alarme",
              "mqtt_topic": "alarm/main/command/arm",
              "mqtt_payload": "{\"mode\": \"full\", \"delay\": 60}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "D√©sarmement automatique le matin",
        "description": "D√©sarme l'alarme automatiquement le matin en semaine, avec horaires diff√©rents le week-end",
        "category": "S√©curit√©",
        "icon": "ShieldOff",
        "preview": {
          "triggers": ["Horaire: 07:00"],
          "conditions": ["Jours: Lundi √† Vendredi"],
          "actions": ["MQTT: D√©sarmer l'alarme"]
        },
        "template": {
          "name": "D√©sarmement matinal en semaine",
          "description": "D√©sarme l'alarme automatiquement √† 7h00 du lundi au vendredi",
          "tags": ["alarme", "s√©curit√©", "automatique", "horaire", "semaine"],
          "Quand": [
            {
              "type": "Horaire",
              "sous_categorie": "Heure fixe",
              "mqtt_topic": "neurHomIA/automation/time",
              "mqtt_trigger": "07:00",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [
            {
              "type": "Jour de la semaine",
              "sous_categorie": "Lundi √† Vendredi",
              "mqtt_topic": "neurHomIA/automation/weekday",
              "mqtt_condition": "weekday",
              "mqtt_payload": "",
              "qos": 0
            }
          ],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Commande alarme",
              "mqtt_topic": "alarm/main/command/disarm",
              "mqtt_payload": "{\"user\": \"automation\"}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "Notification SMS en cas de d√©clenchement",
        "description": "Envoie un SMS d'alerte via Sms2Mqtt lorsque l'alarme se d√©clenche",
        "category": "Notification",
        "icon": "MessageSquare",
        "preview": {
          "triggers": ["MQTT: Alarme d√©clench√©e"],
          "conditions": [],
          "actions": ["SMS: Envoyer notification d'alerte"]
        },
        "template": {
          "name": "Alerte SMS d√©clenchement alarme",
          "description": "Notification SMS imm√©diate en cas de d√©clenchement d'alarme",
          "tags": ["alarme", "notification", "sms", "alerte"],
          "Quand": [
            {
              "type": "MQTT_Subscribe",
              "sous_categorie": "√âtat alarme",
              "mqtt_topic": "alarm/main/events/triggered",
              "mqtt_trigger": "",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Envoi SMS",
              "mqtt_topic": "sms2mqtt/send",
              "mqtt_payload": "{\"number\": \"+33XXXXXXXXX\", \"message\": \"‚ö†Ô∏è ALERTE : L'alarme de votre domicile vient de se d√©clencher !\"}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "Notification push en cas de d√©clenchement",
        "description": "Envoie une notification push via Http2Mqtt lorsque l'alarme se d√©clenche",
        "category": "Notification",
        "icon": "Bell",
        "preview": {
          "triggers": ["MQTT: Alarme d√©clench√©e"],
          "conditions": [],
          "actions": ["Push: Notification via webhook"]
        },
        "template": {
          "name": "Alerte push d√©clenchement alarme",
          "description": "Notification push imm√©diate en cas de d√©clenchement d'alarme",
          "tags": ["alarme", "notification", "push", "webhook"],
          "Quand": [
            {
              "type": "MQTT_Subscribe",
              "sous_categorie": "√âtat alarme",
              "mqtt_topic": "alarm/main/events/triggered",
              "mqtt_trigger": "",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Webhook HTTP",
              "mqtt_topic": "http2mqtt/webhook",
              "mqtt_payload": "{\"url\": \"https://your-notification-service.com/api/notify\", \"method\": \"POST\", \"headers\": {\"Authorization\": \"Bearer YOUR_TOKEN\"}, \"data\": {\"title\": \"üö® Alarme d√©clench√©e\", \"message\": \"L'alarme de votre domicile s'est d√©clench√©e\", \"priority\": \"high\"}}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "Armement sur d√©tection d'absence",
        "description": "Arme automatiquement l'alarme lorsque tous les occupants ont quitt√© le domicile",
        "category": "S√©curit√©",
        "icon": "UserMinus",
        "preview": {
          "triggers": ["MQTT: Absence d√©tect√©e"],
          "conditions": ["D√©lai: 5 minutes sans pr√©sence"],
          "actions": ["MQTT: Armement partiel"]
        },
        "template": {
          "name": "Armement automatique sur absence",
          "description": "Active l'alarme en mode partiel apr√®s 5 minutes d'absence d√©tect√©e",
          "tags": ["alarme", "pr√©sence", "automatique", "absence"],
          "Quand": [
            {
              "type": "MQTT_Subscribe",
              "sous_categorie": "D√©tecteur pr√©sence",
              "mqtt_topic": "presence/home/state",
              "mqtt_trigger": "away",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [
            {
              "type": "D√©lai",
              "sous_categorie": "Temporisation",
              "mqtt_topic": "neurHomIA/automation/delay",
              "mqtt_condition": "300",
              "mqtt_payload": "",
              "qos": 0
            }
          ],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Commande alarme",
              "mqtt_topic": "alarm/main/command/arm_partial",
              "mqtt_payload": "{\"mode\": \"partial\", \"zones\": [\"entrance\", \"windows\"]}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "√âclairage automatique sur alarme",
        "description": "Allume toutes les lumi√®res lorsque l'alarme se d√©clenche pour dissuader les intrus",
        "category": "S√©curit√©",
        "icon": "Lightbulb",
        "preview": {
          "triggers": ["MQTT: Alarme d√©clench√©e"],
          "conditions": [],
          "actions": ["MQTT: Allumer toutes les lumi√®res"]
        },
        "template": {
          "name": "√âclairage d'urgence sur d√©clenchement",
          "description": "Active tous les √©clairages en cas de d√©clenchement d'alarme",
          "tags": ["alarme", "lumi√®re", "s√©curit√©", "dissuasion"],
          "Quand": [
            {
              "type": "MQTT_Subscribe",
              "sous_categorie": "√âtat alarme",
              "mqtt_topic": "alarm/main/events/triggered",
              "mqtt_trigger": "",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Commande lumi√®res",
              "mqtt_topic": "lights/all/command",
              "mqtt_payload": "{\"state\": \"ON\", \"brightness\": 255, \"color\": \"#FF0000\"}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      },
      {
        "name": "V√©rification de l'armement nocturne",
        "description": "V√©rifie que l'alarme est bien arm√©e tard le soir et envoie une notification si ce n'est pas le cas",
        "category": "S√©curit√©",
        "icon": "CheckCircle",
        "preview": {
          "triggers": ["Horaire: 23:30"],
          "conditions": ["MQTT: √âtat alarme d√©sarm√©e"],
          "actions": ["SMS: Rappel d'armement"]
        },
        "template": {
          "name": "Rappel d'armement nocturne",
          "description": "Rappelle d'armer l'alarme si elle n'est pas arm√©e √† 23h30",
          "tags": ["alarme", "rappel", "notification", "s√©curit√©"],
          "Quand": [
            {
              "type": "Horaire",
              "sous_categorie": "Heure fixe",
              "mqtt_topic": "neurHomIA/automation/time",
              "mqtt_trigger": "23:30",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Si": [
            {
              "type": "MQTT_Subscribe",
              "sous_categorie": "√âtat alarme",
              "mqtt_topic": "alarm/main/state/current",
              "mqtt_condition": "disarmed",
              "mqtt_payload": "",
              "qos": 1
            }
          ],
          "Alors": [
            {
              "type": "MQTT_Publish",
              "sous_categorie": "Envoi SMS",
              "mqtt_topic": "sms2mqtt/send",
              "mqtt_payload": "{\"number\": \"+33XXXXXXXXX\", \"message\": \"üí° Rappel : N'oubliez pas d'armer l'alarme avant de dormir\"}",
              "qos": 1,
              "retain": false
            }
          ]
        }
      }
    ]
  }
}
